{"version":3,"file":"static/js/295.a627492e.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/movieList/MovieList.module.css?db32","components/movieList/MovieList.jsx","api/getMovieByQuery.js","webpack://react-homework-template/./src/pages/movies/Movies.module.css?c186","pages/movies/Movies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movieList\":\"MovieList_movieList__P2D1V\",\"movieList__link\":\"MovieList_movieList__link__Ju6i4\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, useLocation } from 'react-router-dom';\n\nimport css from './MovieList.module.css';\n\nfunction MovieList(props) {\n  const location = useLocation();\n  const { movies } = props;\n\n  return (\n    <div>\n      <ul className={css.movieList}>\n        {movies.map(movie => (\n          <li key={movie.id}>\n            <Link\n              to={`/movies/${movie.id}`}\n              state={{ from: location, movieId: movie.id }}\n              className={css.movieList__link}\n            >\n              {movie.title}\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nMovieList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n    })\n  ),\n};\n\nexport default MovieList;\n","import axios from 'axios';\n\nconst API_KEY = 'a06a593c7417d6d1323759d2907180c8';\n\nexport const getMovieByQuery = async query => {\n  const URL = 'https://api.themoviedb.org/3/search/movie';\n  const searchParams = new URLSearchParams({\n    query: query,\n    api_key: API_KEY,\n    language: 'en-US',\n    include_adult: 'false',\n  });\n\n  const response = await axios.get(`${URL}?${searchParams}`);\n  const data = await response.data;\n  const results = await data.results;\n\n  return results;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Movies_form__utRLM\",\"input\":\"Movies_input__+JkfI\",\"button\":\"Movies_button__+2NGv\"};","import React, { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nimport { getMovieByQuery } from 'api/getMovieByQuery';\nimport MovieList from 'components/movieList/MovieList';\n\nimport css from './Movies.module.css';\n\nfunction Movies() {\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  async function handleSubmit(evt) {\n    evt.preventDefault();\n\n    const form = evt.currentTarget;\n    const query = form.elements.query.value;\n\n    setSearchParams({ query: query });\n\n    form.reset();\n  }\n\n  useEffect(() => {\n    async function fetchMovies() {\n      const query = searchParams.get('query');\n\n      if (!query) {\n        return;\n      }\n\n      const results = await getMovieByQuery(query);\n      setMovies([...results]);\n    }\n    fetchMovies();\n  }, [searchParams]);\n  return (\n    <div>\n      <form onSubmit={handleSubmit} className={css.form}>\n        <input\n          name=\"query\"\n          className={css.input}\n          placeholder=\"Please fill movie name\"\n        />\n        <button type=\"sumbit\" className={css.button}>\n          Search\n        </button>\n      </form>\n      {movies && <MovieList movies={movies} />}\n    </div>\n  );\n}\n\nexport default Movies;\n"],"names":["props","location","useLocation","movies","_jsx","children","className","css","map","movie","Link","to","concat","id","state","from","movieId","title","getMovieByQuery","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","query","searchParams","response","data","results","_context","prev","next","URLSearchParams","api_key","language","include_adult","axios","sent","abrupt","stop","_x","apply","arguments","_useState","useState","_useState2","_slicedToArray","setMovies","_useSearchParams","useSearchParams","_useSearchParams2","setSearchParams","_handleSubmit","_callee2","evt","form","_context2","preventDefault","currentTarget","elements","value","reset","useEffect","_fetchMovies","get","_toConsumableArray","fetchMovies","_jsxs","onSubmit","name","placeholder","type","MovieList"],"sourceRoot":""}